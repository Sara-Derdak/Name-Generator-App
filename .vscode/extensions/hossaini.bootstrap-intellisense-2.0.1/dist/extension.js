"use strict";var Q=Object.create;var b=Object.defineProperty;var j=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty;var K=(e,s)=>{for(var o in s)b(e,o,{get:s[o],enumerable:!0})},S=(e,s,o,c)=>{if(s&&typeof s=="object"||typeof s=="function")for(let i of A(s))!V.call(e,i)&&i!==o&&b(e,i,{get:()=>s[i],enumerable:!(c=j(s,i))||c.enumerable});return e};var f=(e,s,o)=>(o=e!=null?Q(N(e)):{},S(s||!e||!e.__esModule?b(o,"default",{value:e,enumerable:!0}):o,e)),T=e=>S(b({},"__esModule",{value:!0}),e);var G={};K(G,{activate:()=>Z,deactivate:()=>_});module.exports=T(G);var n=f(require("vscode"));var t=f(require("vscode")),r=!1,a,h=[],g=e=>{h.push(e)},C=()=>{let e=t.window.createStatusBarItem(t.StatusBarAlignment.Left,100);return e.text=`${r?"$(bootstrap-icon-enable)":"$(bootstrap-icon-disable)"} Bootstrap IntelliSense`,e.tooltip="Click to show the main menu",e.command="bootstrap-intelliSense.showMainMenu",e.show(),e},I=async e=>{let s=[{label:"$(versions) Select Bootstrap version"},{label:"$(sparkle) From local files for offline use",description:"coming soon"},{label:"",kind:t.QuickPickItemKind.Separator},{label:`${r?"$(bootstrap-icon-disable) Disable completion":"$(bootstrap-icon-enable) Enable completion"}`}],o=await t.window.showQuickPick(s,{title:"Bootstrap IntelliSense Menu",placeHolder:"Choose an option"});if(o)switch(o.label){case`${r?"$(bootstrap-icon-disable) Disable completion":"$(bootstrap-icon-enable) Enable completion"}`:H(e);break;case"$(versions) Select Bootstrap version":u(e);break}},k=e=>{r=!0,e.text=`$(bootstrap-icon-enable) Bootstrap v${a}`,h.forEach(s=>s(r))},H=e=>{r=!r,h.forEach(o=>o(r));let s=r?"enabled":"disabled";t.window.showInformationMessage(`Bootstrap IntelliSense is ${s}`),e.text=r?`$(bootstrap-icon-enable) ${a?`Bootstrap v${a}`:"Bootstrap IntelliSense"}`:`$(bootstrap-icon-disable) ${a?`Bootstrap v${a}`:"Bootstrap IntelliSense"}`},u=async e=>{let s=[{label:"$(arrow-left) Back"},{label:"",kind:t.QuickPickItemKind.Separator},{label:"$(versions) Bootstrap 5"},{label:"$(versions) Bootstrap 4"},{label:"$(versions) Bootstrap 3"}],o=await t.window.showQuickPick(s,{title:"Select Bootstrap version",placeHolder:"Choose a version of Bootstrap"});if(o)if(o.label==="$(arrow-left) Back")t.commands.executeCommand("bootstrap-intellisense.showMainMenu");else switch(o.label){case"$(versions) Bootstrap 5":O(e);break;case"$(versions) Bootstrap 4":D(e);break;case"$(versions) Bootstrap 3":R(e);break}},O=async e=>{let s=[{label:"$(arrow-left) Back"},{label:"",kind:t.QuickPickItemKind.Separator},{label:"$(add) Bootstrap 5.3"},{label:"$(add) Bootstrap 5.2"},{label:"$(add) Bootstrap 5.1"},{label:"$(add) Bootstrap 5.0"}],o=await t.window.showQuickPick(s,{title:"Select Bootstrap 5 version",placeHolder:"Choose a version of Bootstrap 5"});o&&(o.label==="$(arrow-left) Back"?u(e):(a=Number(o.label.split(" ").pop()),k(e),t.window.showInformationMessage(`Bootstrap version set to v${a}`)))},D=async e=>{let s=[{label:"$(arrow-left) Back"},{label:"",kind:t.QuickPickItemKind.Separator},{label:"$(add) Bootstrap 4.6"},{label:"$(add) Bootstrap 4.5"},{label:"$(add) Bootstrap 4.4"},{label:"$(add) Bootstrap 4.3"},{label:"$(add) Bootstrap 4.2"},{label:"$(add) Bootstrap 4.1"},{label:"$(add) Bootstrap 4.0"}],o=await t.window.showQuickPick(s,{title:"Select Bootstrap 4 version",placeHolder:"Choose a version of Bootstrap 4"});o&&(o.label==="$(arrow-left) Back"?u(e):(a=Number(o.label.split(" ").pop()),k(e),t.window.showInformationMessage(`Bootstrap version set to v${a}`)))},R=async e=>{let s=[{label:"$(arrow-left) Back"},{label:"",kind:t.QuickPickItemKind.Separator},{label:"$(add) Bootstrap 3.4"},{label:"$(add) Bootstrap 3.3"}],o=await t.window.showQuickPick(s,{title:"Select Bootstrap 3 version",placeHolder:"Choose a version of Bootstrap 3"});o&&(o.label==="$(arrow-left) Back"?u(e):(a=Number(o.label.split(" ").pop()),k(e),t.window.showInformationMessage(`Bootstrap version set to v${a}`)))};var w=f(require("vscode"));var q=e=>{try{let s=/\.([a-zA-Z0-9\-_]+)([^{]*?)\s*{([^}]*)}/gs,o=[],c=new Set,i;for(;i=s.exec(e);){let l=i[1],m=i[0];m=m.replace(/\s*{\s*/,` {
  `).replace(/;\s*/g,`;
  `).replace(/\s*}\s*$/,`
}`),c.has(l)||(c.add(l),o.push({className:l,classProperties:m}))}return o}catch(s){return w.window.showInformationMessage(`Error extracting CSS classes: ${s.message}`),[]}},z=async e=>{try{return await(await fetch(`https://cdn.jsdelivr.net/npm/bootstrap@${e}/dist/css/bootstrap.css`)).text()}catch(s){return w.window.showInformationMessage(`Error fetching Bootstrap CSS: ${s.message}`),null}},x=async()=>{try{let e=await z(a);return e?q(e):[]}catch(e){return w.window.showInformationMessage(`Error getting Bootstrap classes: ${e.message}`),[]}};var $,p,F=["html","php","handlebars","javascript","javascriptreact","typescript","typescriptreact","vue","vue-html","svelte","astro","twig","erb","django-html","blade","razor","ejs","markdown","css","scss","sass","less","stylus","jade","pug","haml","slim","liquid","edge","jinja","j2","asp","jinja-html","jar"],L=(e,s)=>{let o=/class(?:Name)?\s*=\s*['"]([^'"]*)$/;return r&&!a?(n.window.showInformationMessage("Please select a version of Bootstrap"),Promise.resolve([])):r?new Promise(async(c,i)=>{try{let m=e.lineAt(s.line).text.slice(0,s.character),B=o.exec(m);if(!B||!B[1]){c([]);return}let P=(B[1]||"").split(" ").filter(d=>d.trim()!==""),E=(await x()||[]).filter(({className:d})=>!P.includes(d)).map(({className:d,classProperties:y})=>{let v=new n.CompletionItem(d,n.CompletionItemKind.Value);return v.detail="Bootstrap IntelliSense",v.documentation=new n.MarkdownString().appendCodeblock(y,"css"),v.insertText=d,v});c(E)}catch(l){console.error("Error in provideCompletionItems:",l.message,l.stack),i([])}}):void 0};function M(e){p&&(p.dispose(),p=void 0),r&&(p=n.languages.registerCompletionItemProvider(F,{provideCompletionItems:L},'"',"'"," "),e.subscriptions.push(p))}function Z(e){$=C(),e.subscriptions.push($);let s=n.commands.registerCommand("bootstrap-intelliSense.showMainMenu",async()=>{await I($)});e.subscriptions.push(s),M(e),g(o=>{M(e)})}function _(){p&&p.dispose()}0&&(module.exports={activate,deactivate});
